<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <!-- Bootstrap Date-Picker Plugin -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
</head>
<body>

  <%- include partials/header.ejs %>

  <% if (logged) { %>
      <div class="container">
        <div class="row">
          <div class="jumbotron">
            <h1>Relever mes heures</h1>
            <p>Pour relever vos heures veuillez saisir vos informations</p>
          </div>
          <div class="row">
            <script>
                $(document).ready(function(){
                  var date_input=$('input[name="date"]'); //our date input has the name "date"
                  var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
                  var options={
                    format: 'mm/dd/yyyy',
                    container: container,
                    todayHighlight: true,
                    autoclose: true,
                  };
                  date_input.datepicker(options);
                  var quantitiy=0;
                  $('.quantity-right-plus').click(function(e){

                      // Stop acting like a button
                      e.preventDefault();
                      // Get the field name
                      var quantity = parseInt($('#quantity').val());

                      // If is not undefined

                          $('#quantity').val(quantity + 1);


                          // Increment

                  });

                   $('.quantity-left-minus').click(function(e){
                      // Stop acting like a button
                      e.preventDefault();
                      // Get the field name
                      var quantity = parseInt($('#quantity').val());

                      // If is not undefined

                          // Increment
                          if(quantity>0){
                          $('#quantity').val(quantity - 1);
                          }
                  });
                })
            </script>

          <!-- Form code begins -->
          <form method="post">
            <div class="col-md-6 col-sm-6 col-xs-12">
              <div class="form-group">
                <label for="family">Famille</label>
                <select class="form-control" id="family">
                  <option>Bower</option>
                  <option>Sheffield</option>
                  <option>Cosby</option>
                  <option>Famille 4</option>
                  <option>Famille 5</option>
                </select>
              </div>
            <div class="form-group"> <!-- Date input -->
              <label class="control-label" for="date">Date</label>
              <input class="form-control" id="date" name="date" placeholder="MM/DD/YYY" type="text"/>
            </div>
            <div class="form-group"> <!-- Submit button -->
              <label class="control-label" for="date">Heures</label>
              <span class="input-group">
                <span class="input-group-btn">
                    <button type="button" class="quantity-left-minus btn btn-danger btn-number"  data-type="minus" data-field="">
                      <span class="glyphicon glyphicon-minus"></span>
                    </button>
                </span>
                <input type="text" id="quantity" name="quantity" class="form-control input-number" value="8" min="1" max="8">
                <span class="input-group-btn">
                    <button type="button" class="quantity-right-plus btn btn-success btn-number" data-type="plus" data-field="">
                        <span class="glyphicon glyphicon-plus"></span>
                    </button>
                </span>
              </span>
            </div>
            <div class="form-group"> <!-- Submit button -->
              <button class="btn btn-primary " name="submit" type="submit">Valider</button>
            </div>
           </form>
           <!-- Form code ends -->

          </div>
          </div>
        </div>
      </div>
  <% } else { %>
    <div class="container">
      <div class="row">
        <div class="jumbotron">
          <h1>Chaudoudoux App Intervenants <span style="color : #ff3366">v0.1</span> DEMO</h1>
          <p>La version de démonstration est volontairement restreinte à quelques fonctionalités</p>
          <p>Pour les besoins de la démonstration et pour des raisons de sécurité les données affichées sont aussi volontairement fictives et sont remises par defaut chaque jour avec des données choisies par nos soins</p>
          <p>Pour vous connecter à cette démonstration, l'utilisateur est <span style="color : #ff3366">unicorn1</span> et le mot de passe <span style="color : #ff3366">IAMateapot101</span></p>
        </div>
      </div>
    </div>
  <% } %>

</body>
</html>
